(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{ExG0:function(t,e,i){"use strict";i.r(e);var o=i("TsPW"),r={data:function(){return{doType:"add",saveLoading:!1,dialogTitle:"新增",tableData:[],param:{pageSize:0},editForm:{id:"",unitFrom:"",unitTo:"",remark:"",ratio:0},dialogFormVisible:!1,formLabelWidth:"100px",rules:{unitFrom:[{required:!0,message:"请选择",trigger:"change"}],unitTo:[{required:!0,message:"请选择",trigger:"change"}]}}},methods:{handleClick:function(t,e,i){var o=this,r=this;"delete"==i?r.$confirm("真的删除该行数据么, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={id:e.id};requestDeleteDataDic(t).then(function(t){o.$message({type:"success",message:"删除成功!",duration:300,onClose:function(){r.dialogFormVisible=!1,r.getAjaxList()}})})}).catch(function(){r.$message({type:"info",message:"已取消删除"})}):"add"==i?this.showEdit("add",e):"edit"==i&&this.showEdit("edit",e)},showEdit:function(t,e){"add"==t?(this.doType="add",this.dialogTitle="新增",this.editForm.unitFrom="",this.editForm.unitTo="",this.editForm.ratio=0,this.editForm.id="",this.editForm.remark=""):"edit"==t&&(this.doType="edit",this.dialogTitle="编辑",this.editForm.unitFrom=e.unitFrom,this.editForm.unitTo=e.unitTo,this.editForm.id=e.id,this.editForm.remark=e.remark,this.editForm.ratio=e.ratio),this.dialogFormVisible=!0},dialogFormAdd:function(t){var e=this,i=this,r={id:this.editForm.id,unitFrom:this.editForm.unitFrom,unitTo:this.editForm.unitTo,ratio:this.editForm.ratio,remark:this.editForm.remark};this.$refs[t].validate(function(t){if(!t)return!1;i.saveLoading=!0,Object(o.Me)(r).then(function(t){e.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){i.saveLoading=!1,i.dialogFormVisible=!1,i.getAjaxList()}})})})},getAjaxList:function(){var t=this;Object(o.Le)(t.param).then(function(e){if(200==e.status){var i=e.data.items;i&&i.length>0?t.tableData=i:t.tableData=[]}else t.$message({message:"请求异常",type:"error"})})}},beforeMount:function(){this.getAjaxList()}},a=(i("QZ6P"),i("KHd+")),l=Object(a.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),i("el-breadcrumb-item",[t._v("单位换算配置管理")])],1),t._v(" "),i("div",{staticClass:"contentBody"},[i("el-form",{ref:"ruleForm",staticClass:"demo-form-inline"},[i("el-form-item",{staticStyle:{"text-align":"right"},attrs:{"label-width":"0"}},[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleClick("","","add")}}},[t._v("添加")])],1)],1),t._v(" "),i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,border:"","row-key":"id"}},[i("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"行号",width:"80",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",prop:"unitFrom",label:"原单位",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",prop:"unitTo",label:"目标单位"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",prop:"ratio",label:"单位换算比例",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",prop:"remark",label:"备注"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",prop:"createTime",label:"创建时间",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{"background-color":"#24cbc1",color:"#fff",border:"none"},attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.handleClick(e.$index,e.row,"edit")}}},[t._v("编辑")]),t._v(" "),i("el-button",{staticStyle:{"background-color":"#fe8d29",color:"#fff",border:"none"},attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(i){return t.handleClick(e.$index,e.row,"delete")}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.rules}},[i("el-form-item",{attrs:{label:"原单位",prop:"unitFrom","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:t.editForm.unitFrom,callback:function(e){t.$set(t.editForm,"unitFrom",e)},expression:"editForm.unitFrom"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"目标单位",prop:"unitTo","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:t.editForm.unitTo,callback:function(e){t.$set(t.editForm,"unitTo",e)},expression:"editForm.unitTo"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"单位换算比例",prop:"ratio","label-width":t.formLabelWidth}},[i("el-input-number",{attrs:{min:.001},model:{value:t.editForm.ratio,callback:function(e){t.$set(t.editForm,"ratio",e)},expression:"editForm.ratio"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"textarea",rows:2,autocomplete:"off",clearable:""},model:{value:t.editForm.remark,callback:function(e){t.$set(t.editForm,"remark",e)},expression:"editForm.remark"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{staticStyle:{"background-color":"#35B178","border-color":"#35B178"},attrs:{type:"primary",loading:t.saveLoading},on:{click:function(e){return t.dialogFormAdd("editForm")}}},[t._v("确 定")])],1)],1)],1)},[],!1,null,"1290497e",null);l.options.__file="unitConversion.vue";e.default=l.exports},QZ6P:function(t,e,i){"use strict";var o=i("sTBi");i.n(o).a},sTBi:function(t,e,i){}}]);