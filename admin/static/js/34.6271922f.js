(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"+20j":function(e,t,a){"use strict";a.r(t);var r=a("TsPW"),l={name:"edit-out-stock-order",data:function(){return{tableData:null,typeBool:!1,logisticsInfo:!1,formLabelWidth:"120px",dialogTreeFormVisible:!1,dialogTreeTitle:"新增出库单明细",id:"",saveLoading:!1,editForm:{name:"",dateTime:"",totalNumber:"",totalPrice:"",remark:"",salesOrderIds:[],logisticsNo:"",logisticsId:"",customerId:"",supplierId:"",company:"",type:1},rules:{name:[{required:!0,message:"请输入出库单名称",trigger:"blur"}],salesOrderIds:[{required:!0,message:"请选择店铺订单",trigger:"blur"}],dateTime:[{required:!0,message:"请选择出库日期",trigger:"blur"}],customerId:[{required:!0,message:"请选择门店",trigger:"change"}]},headers:{sessionId:sessionStorage.getItem("sessionId")},purchaseList:[],LogisticsList:[],customerList:[],supplierList:[],param:{pageSize:-1},param2:{pid:""},param3:{pageSize:-1,status:1},param4:{content:"",pageSize:-1,isDelete:1},param5:{pageSize:-1,status:1,type:1},param6:{content:"",pageSize:-1,status:1,type:2},standardParam:{type:"单位"},content:"",standardDataDicList:[],activeName:"1",searchTreeForm:{name:"",serialNo:""},tableTreeData:null,paramTree:{name:"",pageNo:1,pageSize:10,deptId:"",checkChild:"all",serialNo:"",packCategoryId:"",isDelete:1},totalTreeNum:0,orgTreeData:[],defaultProps:{children:"children",label:"name"},searchTreeForm2:{name:"",serialNo:""},tableTreeData2:null,paramTree2:{name:"",pageNo:1,pageSize:10,deptId:"",checkChild:"all",serialNo:"",categoryId:"",isDelete:1},totalTreeNum2:0,orgTreeData2:[],searchTreeForm3:{name:"",serialNo:""},tableTreeData3:[],paramTree3:{name:"",pageNo:1,pageSize:10,serialNo:"",type:"1",isDelete:1},totalTreeNum3:0,searchTreeForm4:{name:"",serialNo:""},tableTreeData4:null,paramTree4:{name:"",pageNo:1,pageSize:10,serialNo:"",type:"2",isDelete:1},totalTreeNum4:0,searchTreeForm5:{name:"",serialNo:""},tableTreeData5:null,paramTree5:{name:"",pageNo:1,pageSize:10,serialNo:""},totalTreeNum5:0}},methods:{changeOrder:function(e){var t;t=this.purchaseList.find(function(t){return t.id===e}),this.editForm.customerId=t.customerId},handleClick:function(e,t){"1"==e.name?(this.getTreeAjaxPage(),this.getTreeAjaxList()):"2"==e.name?(this.getTreeAjaxPage2(),this.getTreeAjaxList2()):"3"==e.name?this.getTreeAjaxPage3():"4"==e.name?this.getTreeAjaxPage4():"5"==e.name&&this.getTreeAjaxPage5()},handleNodeClick:function(e){this.searchTreeForm.name="",this.searchTreeForm.serialNo="",this.paramTree.serialNo="",this.paramTree.name="",this.paramTree.packCategoryId="","0"==e.id||(this.paramTree.packCategoryId=e.id),this.paramTree.pageNo=1,this.getTreeAjaxPage()},onSearchTree:function(){this.paramTree.pageNo=1,this.paramTree.serialNo=this.searchTreeForm.serialNo,this.paramTree.name=this.searchTreeForm.name,this.getTreeAjaxPage()},handleCurrentChangeTree:function(e){this.paramTree.pageNo=e,this.getTreeAjaxPage()},getTreeAjaxPage:function(){var e=this;Object(r.Id)(e.paramTree).then(function(t){if(200==t.status){var a=t.data.items;a&&a.length>0?(e.tableTreeData=a,e.totalTreeNum=parseInt(t.data.totalNum)):(e.tableTreeData=[],e.totalTreeNum=0)}})},getTreeAjaxList:function(){var e=this;Object(r.Hd)({}).then(function(t){if(200==t.status){var a=t.data;a&&a.length>0?e.orgTreeData=a:e.orgTreeData=[]}})},handleClickTreeAdd:function(e,t){if(this.tableTreeData[e].number>0){var a,l=this;a={id:"",standard:t.standard,number:this.tableTreeData[e].number,price:t.price,name:t.name,serialNo:t.serialNo,type:l.activeName,outStockOrderId:l.id,customerId:l.editForm.customerId,productInfoId:t.id},Object(r.fd)(a).then(function(e){200==e.status?l.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){l.saveLoading=!1,l.getAjaxList(1)}}):(l.saveLoading=!1,l.$message({type:"error",message:e.msg}))})}else this.$message({type:"error",message:"请选择数量！"})},handleNodeClick2:function(e){this.searchTreeForm2.name="",this.searchTreeForm2.serialNo="",this.paramTree2.name="",this.paramTree2.serialNo="",this.paramTree2.categoryId="","0"==e.id||(this.paramTree2.categoryId=e.id),this.paramTree2.pageNo=1,this.getTreeAjaxPage2()},onSearchTree2:function(){this.paramTree2.pageNo=1,this.paramTree2.serialNo=this.searchTreeForm2.serialNo,this.paramTree2.name=this.searchTreeForm2.name,this.getTreeAjaxPage2()},handleCurrentChangeTree2:function(e){this.paramTree2.pageNo=e,this.getTreeAjaxPage2()},getTreeAjaxPage2:function(){var e=this;Object(r.Sd)(e.paramTree2).then(function(t){if(200==t.status){var a=t.data.items;a&&a.length>0?(e.tableTreeData2=a,e.totalTreeNum2=parseInt(t.data.totalNum)):(e.tableTreeData2=[],e.totalTreeNum2=0)}})},getTreeAjaxList2:function(){var e=this;Object(r.Rd)({}).then(function(t){if(200==t.status){var a=t.data;a&&a.length>0?e.orgTreeData2=a:e.orgTreeData2=[]}})},handleClickTreeAdd2:function(e,t){if(this.tableTreeData2[e].number>0){var a,l=this;a={id:"",standard:t.standard,number:this.tableTreeData2[e].number,price:t.price,name:t.name,serialNo:t.serialNo,type:l.activeName,outStockOrderId:l.id,customerId:l.editForm.customerId,productInfoId:t.id},Object(r.fd)(a).then(function(e){200==e.status?l.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){l.saveLoading=!1,l.getAjaxList(1)}}):(l.saveLoading=!1,l.$message({type:"error",message:e.msg}))})}else this.$message({type:"error",message:"请选择数量！"})},onSearchTree3:function(){this.paramTree3.pageNo=1,this.paramTree3.serialNo=this.searchTreeForm3.serialNo,this.paramTree3.name=this.searchTreeForm3.name,this.paramTree3.type=this.searchTreeForm3.type,this.getTreeAjaxPage3()},handleCurrentChangeTree3:function(e){this.paramTree3.pageNo=e,this.getTreeAjaxPage3()},getTreeAjaxPage3:function(){var e=this;Object(r.yd)(e.paramTree3).then(function(t){if(200==t.status){var a=t.data.items;a&&a.length>0?(e.tableTreeData3=a,e.totalTreeNum3=parseInt(t.data.totalNum)):(e.tableTreeData3=[],e.totalTreeNum3=0)}})},handleClickTreeAdd3:function(e,t){if(this.tableTreeData3[e].number>0){var a,l=this;a={id:"",standard:t.standard,number:this.tableTreeData3[e].number,price:t.price,name:t.name,serialNo:t.serialNo,type:l.activeName,outStockOrderId:l.id,customerId:l.editForm.customerId,productInfoId:t.id},Object(r.fd)(a).then(function(e){200==e.status?l.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){l.saveLoading=!1,l.getAjaxList(1)}}):(l.saveLoading=!1,l.$message({type:"error",message:e.msg}))})}else this.$message({type:"error",message:"请选择数量！"})},onSearchTree4:function(){this.paramTree4.pageNo=1,this.paramTree4.serialNo=this.searchTreeForm4.serialNo,this.paramTree4.name=this.searchTreeForm4.name,this.paramTree4.type=this.searchTreeForm4.type,this.getTreeAjaxPage4()},handleCurrentChangeTree4:function(e){this.paramTree4.pageNo=e,this.getTreeAjaxPage4()},getTreeAjaxPage4:function(){var e=this;Object(r.yd)(e.paramTree4).then(function(t){if(200==t.status){var a=t.data.items;a&&a.length>0?(e.tableTreeData4=a,e.totalTreeNum4=parseInt(t.data.totalNum)):(e.tableTreeData4=[],e.totalTreeNum4=0)}})},handleClickTreeAdd4:function(e,t){if(this.tableTreeData4[e].number>0){var a,l=this;a={id:"",standard:t.standard,number:this.tableTreeData4[e].number,price:t.price,name:t.name,serialNo:t.serialNo,type:l.activeName,outStockOrderId:l.id,customerId:l.editForm.customerId,productInfoId:t.id},Object(r.fd)(a).then(function(e){200==e.status?l.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){l.saveLoading=!1,l.getAjaxList(1)}}):(l.saveLoading=!1,l.$message({type:"error",message:e.msg}))})}else this.$message({type:"error",message:"请选择数量！"})},onSearchTree5:function(){this.paramTree5.pageNo=1,this.paramTree5.serialNo=this.searchTreeForm5.serialNo,this.paramTree5.name=this.searchTreeForm5.name,this.paramTree5.type=this.searchTreeForm5.type,this.getTreeAjaxPage5()},handleCurrentChangeTree5:function(e){this.paramTree4.pageNo=e,this.getTreeAjaxPage4()},getTreeAjaxPage5:function(){var e=this;Object(r.Ad)(e.paramTree5).then(function(t){if(200==t.status){var a=t.data.items;a&&a.length>0?(e.tableTreeData5=a,e.totalTreeNum5=parseInt(t.data.totalNum)):(e.tableTreeData5=[],e.totalTreeNum5=0)}})},handleClickTreeAdd5:function(e,t){var a,l=this;a={id:"",standard:t.standard,number:this.tableTreeData5[e].number,price:t.price,name:t.name,serialNo:t.serialNo,type:0,outStockOrderId:l.id,customerId:l.editForm.customerId,productInfoId:t.id},Object(r.fd)(a).then(function(e){200==e.status?l.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){l.saveLoading=!1,l.getAjaxList(1)}}):(l.saveLoading=!1,l.$message({type:"error",message:e.msg}))})},getAjaxStandardDataDic:function(){var e=this;Object(r.He)(e.standardParam).then(function(t){if(200==t.status){var a=t.data;a&&a.length>0?e.standardDataDicList=a:e.standardDataDicList=[]}})},getdatatime:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=a>9?a:"0"+a,l=e.getDate(),i=l>9?l:"0"+l;this.editForm.dateTime=t+"-"+r+"-"+i},changeSupplier:function(e){var t=this,a=setInterval(function(){if(t.supplierList&&t.supplierList.length>0){var r;(r=t.supplierList.find(function(t){return t.id===e})).content&&(t.content=r.content),clearInterval(a)}},100)},changeLogistics:function(e){var t;t=this.LogisticsList.find(function(t){return t.id===e}),this.editForm.phone=t.phone,this.editForm.company=t.company,this.editForm.contact=t.contact},handleClickDetail:function(e,t,a){var l=this;"delete"==a?l.$confirm("真的删除该行数据么, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={id:t.id};Object(r.N)(e).then(function(e){200==e.status?l.$message({type:"success",message:"删除成功!",duration:300,onClose:function(){l.getAjaxList(1)}}):l.$message({type:"error",message:e.msg})})}).catch(function(){l.$message({type:"info",message:"已取消删除"})}):"add"==a&&(this.getTreeAjaxPage(),this.getTreeAjaxList(),this.dialogTreeFormVisible=!0)},getAjaxList:function(e){var t=this;Object(r.Fb)(t.param2).then(function(a){t.tableData=[];var r=a.data;r&&r.length>0?(t.tableData=r,1==e&&t.requestClientInfo()):t.tableData=[]})},requestClientInfo:function(){var e=this,t=this;Object(r.bc)({id:this.id}).then(function(a){if(e.logisticsInfo=!0,200==a.status){var r=a.data;r&&(t.editForm.name=r.name,t.editForm.dateTime=r.dateTime,t.editForm.totalNumber=r.totalNumber,t.editForm.totalPrice=r.totalPrice,t.editForm.remark=r.remark,t.editForm.salesOrderIds=r.salesOrderIds,t.editForm.logisticsId=r.logisticsId,r.logistics&&(t.editForm.plateNumber=r.logistics.plateNumber,t.editForm.contact=r.logistics.contact,t.editForm.phone=r.logistics.phone,t.editForm.company=r.logistics.company),t.editForm.logisticsNo=r.logisticsNo,t.editForm.supplierId=r.supplierId,r.supplierId&&t.changeSupplier(r.supplierId),t.editForm.type=r.type,t.editForm.customerId=r.customerId)}else e.$message({message:"请求异常",type:"error"})})},goBack:function(){this.$router.push({path:"/outStockOrder"})},submitForm:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.saveLoading=!0;t.supplierList.find(function(e){return e.id===a.editForm.supplierId});var l={id:a.id,name:a.editForm.name,dateTime:a.editForm.dateTime,totalNumber:a.editForm.totalNumber,totalPrice:a.editForm.totalPrice,remark:a.editForm.remark,logisticsNo:a.editForm.logisticsNo,customerId:a.editForm.customerId,supplierId:a.editForm.supplierId,type:a.editForm.type,salesOrderIds:a.editForm.salesOrderIds.toString(),logisticsId:a.editForm.logisticsId.toString()};Object(r.gd)(l).then(function(e){t.$message({type:"success",message:"操作成功!",duration:300,onClose:function(){sessionStorage.setItem("outId",e.data.id),a.id=e.data.id,a.param2.pid=e.data.id,a.requestClientInfo(),a.getAjaxList(2),a.saveLoading=!1,a.typeBool=!0}})})})},getAjaxPList:function(){var e=this;Object(r.Hc)(e.param3).then(function(t){var a=t.data.items;a&&a.length>0?e.purchaseList=a:e.purchaseList=[]})},getAjaxLogisticsList:function(){var e=this;Object(r.Kd)(e.param4).then(function(t){var a=t.data.items;a&&a.length>0?e.LogisticsList=a:e.LogisticsList=[]})},getAjaxClient:function(){var e=this;Object(r.zd)(e.param).then(function(t){var a=t.data.items;a&&a.length>0?e.customerList=a:e.customerList=[]})},getAjaxSupplier:function(){var e=this;Object(r.Wd)(e.param).then(function(t){var a=t.data.items;a&&a.length>0?e.supplierList=a:e.supplierList=[]})}},beforeMount:function(){this.getAjaxSupplier();var e=sessionStorage.getItem("outId");e&&(this.id=e,this.param2.pid=e,this.typeBool=!0,this.requestClientInfo(),this.getAjaxList(2)),this.getAjaxPList(),this.getAjaxLogisticsList(),this.getdatatime(),this.getAjaxClient(),this.getAjaxStandardDataDic()}},i=(a("clU7"),a("KHd+")),n=Object(i.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/outStockOrder"}}},[e._v("出库单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(""==e.id?"新增":"编辑"))])],1),e._v(" "),a("div",{staticClass:"contentBody"},[a("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"出库单名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:15},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出库类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},[a("el-option",{attrs:{label:"门店订单",value:1}},[e._v("门店订单")]),e._v(" "),a("el-option",{attrs:{label:"自主配货",value:2}},[e._v("自主配货")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"出库日期",prop:"dateTime"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.editForm.dateTime,callback:function(t){e.$set(e.editForm,"dateTime",t)},expression:"editForm.dateTime"}})],1)],1)],1),e._v(" "),1==e.editForm.type?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"店铺订单",prop:"salesOrderIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.changeOrder},model:{value:e.editForm.salesOrderIds,callback:function(t){e.$set(e.editForm,"salesOrderIds",t)},expression:"editForm.salesOrderIds"}},e._l(e.purchaseList,function(e){return a("el-option",{attrs:{label:e.name+" ["+e.customerName+"]",value:e.id}})}),1)],1):e._e(),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"总量"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:200,disabled:""},model:{value:e.editForm.totalNumber,callback:function(t){e.$set(e.editForm,"totalNumber",t)},expression:"editForm.totalNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"物流单号"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:200},model:{value:e.editForm.logisticsNo,callback:function(t){e.$set(e.editForm,"logisticsNo",t)},expression:"editForm.logisticsNo"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:" 物流车牌号"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.changeLogistics},model:{value:e.editForm.logisticsId,callback:function(t){e.$set(e.editForm,"logisticsId",t)},expression:"editForm.logisticsId"}},e._l(e.LogisticsList,function(e){return a("el-option",{attrs:{label:e.plateNumber,value:e.id}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[e.editForm.phone?a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"物流电话"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:200,disabled:""},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1):e._e()],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[e.editForm.company?a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"物流公司名称"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:200,disabled:""},model:{value:e.editForm.company,callback:function(t){e.$set(e.editForm,"company",t)},expression:"editForm.company"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[e.editForm.contact?a("el-form-item",{staticStyle:{width:"316px"},attrs:{label:"物流联系人"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:200,disabled:""},model:{value:e.editForm.contact,callback:function(t){e.$set(e.editForm,"contact",t)},expression:"editForm.contact"}})],1):e._e()],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[2==e.editForm.type?a("el-form-item",{attrs:{label:"门店",prop:"customerId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.customerId,callback:function(t){e.$set(e.editForm,"customerId",t)},expression:"editForm.customerId"}},e._l(e.customerList,function(e){return a("el-option",{attrs:{label:e.name,value:e.id}})}),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商",prop:"supplierId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.changeSupplier},model:{value:e.editForm.supplierId,callback:function(t){e.$set(e.editForm,"supplierId",t)},expression:"editForm.supplierId"}},e._l(e.supplierList,function(e){return a("el-option",{attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),e.editForm.supplierId?a("el-form-item",{attrs:{label:"供应内容"}},[a("el-input",{attrs:{disabled:""},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:200},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.saveLoading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.goBack()}}},[e._v("返回")])],1)],1),e._v(" "),e.id?a("div",{staticClass:"contentBody"},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"60px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(t){return e.handleClickDetail("","","add")}}})],1)],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"序号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"serialNo",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"standard",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"number",label:"数量",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleClickDetail(t.$index,t.row,"delete")}}},[e._v("删除")])]}}],null,!1,2088583025)})],1)],1):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTreeTitle,visible:e.dialogTreeFormVisible,width:"80%",top:"5vh"},on:{"update:visible":function(t){e.dialogTreeFormVisible=t}}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"打包",name:"1"}},[a("el-container",[a("el-aside",[a("el-tree",{attrs:{"highlight-current":!0,"node-key":"id","default-expand-all":"",data:e.orgTreeData,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("el-main",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchTreeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"编号",clearable:""},model:{value:e.searchTreeForm.serialNo,callback:function(t){e.$set(e.searchTreeForm,"serialNo",t)},expression:"searchTreeForm.serialNo "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"名称",clearable:""},model:{value:e.searchTreeForm.name,callback:function(t){e.$set(e.searchTreeForm,"name",t)},expression:"searchTreeForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{icon:"el-icon-search",circle:"","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.onSearchTree(t)}}})],1)],1),e._v(" "),a("el-table",{attrs:{data:e.tableTreeData,border:""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"行号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"serialNo",label:"编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"price",label:"出售单价",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                        ￥"+e._s(t.row.price)+"\n                                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"stock",label:"库存量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"number",label:"数量",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"130px"},attrs:{max:e.tableTreeData[t.$index].stock,min:0},model:{value:e.tableTreeData[t.$index].number,callback:function(a){e.$set(e.tableTreeData[t.$index],"number",a)},expression:"tableTreeData[scope.$index].number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickTreeAdd(t.$index,t.row)}}},[e._v("添加")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.paramTree.pageNo,"page-size":e.paramTree.pageSize,layout:"total,prev, pager, next",total:e.totalTreeNum},on:{"current-change":e.handleCurrentChangeTree,"update:currentPage":function(t){return e.$set(e.paramTree,"pageNo",t)},"update:current-page":function(t){return e.$set(e.paramTree,"pageNo",t)}}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"固定资产",name:"3"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchTreeForm3,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"原料编号",clearable:""},model:{value:e.searchTreeForm3.serialNo,callback:function(t){e.$set(e.searchTreeForm3,"serialNo",t)},expression:"searchTreeForm3.serialNo "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"名称",clearable:""},model:{value:e.searchTreeForm3.name,callback:function(t){e.$set(e.searchTreeForm3,"name",t)},expression:"searchTreeForm3.name"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{icon:"el-icon-search",circle:"","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.onSearchTree3(t)}}})],1)],1),e._v(" "),a("el-table",{attrs:{data:e.tableTreeData3,border:""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"行号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"serialNo",label:"编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"stock",label:"库存量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"safeStock",label:"安全库存量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"number",label:"数量",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"130px"},attrs:{max:e.tableTreeData3[t.$index].stock,min:0},model:{value:e.tableTreeData3[t.$index].number,callback:function(a){e.$set(e.tableTreeData3[t.$index],"number",a)},expression:"tableTreeData3[scope.$index].number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"standard",label:"单位",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickTreeAdd3(t.$index,t.row)}}},[e._v("添加")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.paramTree3.pageNo,"page-size":e.paramTree3.pageSize,layout:"total,prev, pager, next",total:e.totalTreeNum3},on:{"current-change":e.handleCurrentChangeTree3,"update:currentPage":function(t){return e.$set(e.paramTree3,"pageNo",t)},"update:current-page":function(t){return e.$set(e.paramTree3,"pageNo",t)}}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"易耗品",name:"4"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchTreeForm4,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"编号",clearable:""},model:{value:e.searchTreeForm4.serialNo,callback:function(t){e.$set(e.searchTreeForm4,"serialNo",t)},expression:"searchTreeForm4.serialNo "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"名称",clearable:""},model:{value:e.searchTreeForm4.name,callback:function(t){e.$set(e.searchTreeForm4,"name",t)},expression:"searchTreeForm4.name"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{icon:"el-icon-search",circle:"","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.onSearchTree4(t)}}})],1)],1),e._v(" "),a("el-table",{attrs:{data:e.tableTreeData4,border:""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"行号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"serialNo",label:"编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"price",label:"出售单价",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                ￥"+e._s(t.row.price)+"\n                            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"stock",label:"库存量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"safeStock",label:"安全库存量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"number",label:"数量",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"130px"},attrs:{max:e.tableTreeData4[t.$index].stock,min:0},model:{value:e.tableTreeData4[t.$index].number,callback:function(a){e.$set(e.tableTreeData4[t.$index],"number",a)},expression:"tableTreeData4[scope.$index].number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"standard",label:"单位",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickTreeAdd4(t.$index,t.row)}}},[e._v("添加")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.paramTree4.pageNo,"page-size":e.paramTree4.pageSize,layout:"total,prev, pager, next",total:e.totalTreeNum4},on:{"current-change":e.handleCurrentChangeTree4,"update:currentPage":function(t){return e.$set(e.paramTree4,"pageNo",t)},"update:current-page":function(t){return e.$set(e.paramTree4,"pageNo",t)}}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"复合调料包",name:"5"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchTreeForm5,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"编号",clearable:""},model:{value:e.searchTreeForm5.serialNo,callback:function(t){e.$set(e.searchTreeForm5,"serialNo",t)},expression:"searchTreeForm5.serialNo "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{maxlength:200,autocomplete:"off",placeholder:"名称",clearable:""},model:{value:e.searchTreeForm5.name,callback:function(t){e.$set(e.searchTreeForm5,"name",t)},expression:"searchTreeForm5.name"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{icon:"el-icon-search",circle:"","native-type":"submit"},nativeOn:{click:function(t){return t.preventDefault(),e.onSearchTree4(t)}}})],1)],1),e._v(" "),a("el-table",{attrs:{data:e.tableTreeData5,border:""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",label:"行号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"serialNo",label:"编号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"price",label:"出售单价",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                ￥"+e._s(t.row.price)+"\n                            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"number",label:"数量",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{staticStyle:{width:"130px"},attrs:{min:0},model:{value:e.tableTreeData5[t.$index].number,callback:function(a){e.$set(e.tableTreeData5[t.$index],"number",a)},expression:"tableTreeData5[scope.$index].number"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"standard",label:"单位",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleClickTreeAdd5(t.$index,t.row)}}},[e._v("添加")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.paramTree5.pageNo,"page-size":e.paramTree5.pageSize,layout:"total,prev, pager, next",total:e.totalTreeNum5},on:{"current-change":e.handleCurrentChangeTree4,"update:currentPage":function(t){return e.$set(e.paramTree5,"pageNo",t)},"update:current-page":function(t){return e.$set(e.paramTree5,"pageNo",t)}}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTreeFormVisible=!1}}},[e._v("关闭")])],1)],1)],1)},[],!1,null,"fdc4e596",null);n.options.__file="editOutStockOrder.vue";t.default=n.exports},bhvk:function(e,t,a){},clU7:function(e,t,a){"use strict";var r=a("bhvk");a.n(r).a}}]);